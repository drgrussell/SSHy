#
# for development reasons I didnt want a minimised set of files to debug,
# so this little script builds the libraries in a fast and unobscure way.
# Does not minify or need a java closure compiler.

[ ! -f node_modules/\@xterm/xterm/lib/xterm.js ] && echo "run npm install" && exit 1
[ ! -f node_modules/\@xterm/addon-fit/lib/addon-fit.js ] && echo "run npm install" && exit 1

rm -f lib/combinedJS.comb.js

cat \
js/defines.js \
js/src/BigInteger.min.js \
js/src/Hash.min.js \
js/src/aes.min.js \
js/src/randomart.js \
js/src/struct.min.js \
js/src/utilities.min.js \
js/dhKex.js \
js/transport.js \
node_modules/\@xterm/addon-fit/lib/addon-fit.js \
js/auth_handler.js \
js/crypto.js \
js/message.js \
js/parceler.js \
js/rsaKey.js \
node_modules/\@xterm/xterm/lib/xterm.js \
js/settings.js \
js/SSHyClient.js \
> lib/combinedJS.comb.js

rm -f lib/combinedLibs.comb.js

cat \
js/defines.js \
js/src/BigInteger.min.js \
js/src/Hash.min.js \
js/src/aes.min.js \
js/src/randomart.js \
js/src/struct.min.js \
js/src/utilities.min.js \
js/dhKex.js \
js/transport.js \
node_modules/\@xterm/addon-fit/lib/addon-fit.js \
js/auth_handler.js \
js/crypto.js \
js/message.js \
js/parceler.js \
js/rsaKey.js \
node_modules/\@xterm/xterm/lib/xterm.js \
js/settings.js \
> lib/combinedLibs.comb.js

